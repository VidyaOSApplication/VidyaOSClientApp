import{a as z}from"./chunk-HGUJNCJE.js";import{a as D}from"./chunk-FNKDIBDA.js";import{A as y,Bb as N,C as s,D as i,E as o,Eb as k,F as l,Fb as w,K as u,Lb as $,S as d,T as I,U as _,Z as v,ea as b,eb as M,fa as C,ha as x,ib as P,ka as O,pb as S,sb as B,t as f,tb as T,u as a,vb as E,w as g,wb as F,y as h}from"./chunk-A35WYOVZ.js";import"./chunk-MYMNFIR5.js";import"./chunk-QUJFQN2Y.js";import"./chunk-SQ2FC6MI.js";import"./chunk-MXQU5NIL.js";import"./chunk-RE5BQNDC.js";import"./chunk-WMOWL56E.js";import"./chunk-VZPOKD32.js";import"./chunk-DE3NY5IG.js";import"./chunk-GVUKRWTT.js";import"./chunk-7FY2OE2O.js";import"./chunk-V5RQBZ6Q.js";import"./chunk-TOLZJHI4.js";import"./chunk-3IV7M6SB.js";import"./chunk-MTHZ7MWU.js";import"./chunk-WI5MSH4N.js";import"./chunk-O6KNH33T.js";import"./chunk-CKP3SGE2.js";import"./chunk-IMAI2IPK.js";import"./chunk-IGVXFY24.js";import"./chunk-5TIAO6TV.js";import"./chunk-BANGDX2W.js";import"./chunk-FZQDFHAZ.js";import"./chunk-CLDSZD2A.js";import"./chunk-M2X7KQLB.js";import"./chunk-XTVTS2NW.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import{e as p}from"./chunk-JHI3MBHO.js";function H(e,n){e&1&&l(0,"ion-spinner",5)}function L(e,n){e&1&&(i(0,"div",6),l(1,"ion-icon",7),i(2,"p"),d(3,"No student birthdays today \u{1F388}"),o()())}function U(e,n){if(e&1&&(i(0,"ion-card",8)(1,"ion-item",9)(2,"ion-avatar",10),l(3,"img",11),o(),i(4,"ion-label")(5,"h2"),d(6),o(),i(7,"p"),d(8),o()(),l(9,"ion-icon",12),o()()),e&2){let m=n.$implicit,t=u();a(3),s("src",v("https://i.pravatar.cc/150?u=",m.userId),f),a(3),I(m.name),a(2),_("DOB: ",t.formatDate(m.dob))}}var R=(()=>{let n=class n{constructor(t){this.http=t,this.loading=!1,this.students=[],this.schoolId=0}ngOnInit(){return p(this,null,function*(){let t=yield D.get({key:"user_profile"});t.value&&(this.schoolId=JSON.parse(t.value).schoolId,this.loadBirthdays())})}loadBirthdays(){this.loading=!0,this.http.get(`${z.apiBaseUrl}/School/GetTodaysBirthdays?schoolId=${this.schoolId}`).subscribe({next:t=>{this.students=t?.data?.students||[],this.loading=!1},error:()=>{this.loading=!1}})}formatDate(t){return new Date(t).toLocaleDateString("en-IN",{day:"2-digit",month:"long",year:"numeric"})}};n.\u0275fac=function(r){return new(r||n)(g(O))},n.\u0275cmp=h({type:n,selectors:[["app-birthdays"]],decls:8,vars:3,consts:[["color","primary"],[1,"ion-padding"],["class","center-spinner",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","birthday-card",4,"ngFor","ngForOf"],[1,"center-spinner"],[1,"empty-state"],["name","happy-outline"],[1,"birthday-card"],["lines","none"],["slot","start"],[3,"src"],["slot","end","name","gift-outline","color","danger"]],template:function(r,c){r&1&&(i(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title"),d(3,"\u{1F382} Today\u2019s Birthdays"),o()()(),i(4,"ion-content",1),y(5,H,1,0,"ion-spinner",2)(6,L,4,0,"div",3)(7,U,10,4,"ion-card",4),o()),r&2&&(a(5),s("ngIf",c.loading),a(),s("ngIf",!c.loading&&c.students.length===0),a(),s("ngForOf",c.students))},dependencies:[x,b,C,$,M,P,S,B,T,E,F,N,k,w],styles:[".center-spinner[_ngcontent-%COMP%]{display:block;margin:40% auto}.birthday-card[_ngcontent-%COMP%]{border-left:6px solid #22c55e;animation:_ngcontent-%COMP%_fadeIn .4s ease-in}.empty-state[_ngcontent-%COMP%]{text-align:center;margin-top:40%;color:#6b7280}.empty-state[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:48px;margin-bottom:8px;color:#10b981}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}"]});let e=n;return e})();export{R as BirthdaysPage};
