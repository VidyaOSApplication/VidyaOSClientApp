<ion-header class="exam-header">
  <ion-toolbar>
    <ion-title>Examinations</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="exam-page">

  <!-- LOADER -->
  <div *ngIf="loading" class="center-spinner">
    <ion-spinner></ion-spinner>
    <p>Loading examinationsâ€¦</p>
  </div>

  <!-- EMPTY STATE -->
  <div *ngIf="!loading && exams.length === 0" class="empty-state">
    <ion-icon name="document-text-outline"></ion-icon>
    <h3>No Exams Created</h3>
    <p>Create an exam to begin managing assessments</p>
  </div>

  <!-- EXAM LIST -->
  <div *ngIf="!loading && exams.length" class="exam-list">

    <div class="exam-card" *ngFor="let exam of exams">

      <!-- TOP -->
      <div class="exam-top">
        <div>
          <h3>{{ exam.examName }}</h3>
          <span class="year">
            Academic Year: {{ exam.academicYear }}
          </span>
        </div>

        <ion-badge class="status-badge"
                   [color]="getStatusColor(exam.status)">
          {{ exam.status }}
        </ion-badge>
      </div>

      <!-- META -->
      <div class="exam-meta">
        <ion-icon name="school-outline"></ion-icon>
        <span>Classes: {{ exam.classes?.length || 0 }}</span>
      </div>

      <!-- ACTIONS -->
      <div class="actions">

        <ion-button size="small"
                    fill="outline"
                    color="warning"
                    *ngIf="exam.status === 'Draft'"
                    (click)="goToAssignSubjects(exam)">
          Assign Subjects
        </ion-button>

        <ion-button size="small"
                    fill="outline"
                    color="primary"
                    *ngIf="exam.status === 'Subjects Assigned'"
                    (click)="goToEnterMarks(exam)">
          Enter Marks
        </ion-button>

        <ion-button size="small"
                    fill="outline"
                    color="success"
                    *ngIf="exam.status === 'Marks Entered'">
          View Result
        </ion-button>

      </div>

    </div>

  </div>

</ion-content>
