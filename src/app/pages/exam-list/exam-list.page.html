<ion-header class="exams-header">
  <ion-toolbar>
    <ion-title>Exams</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="exams-page">

  <!-- EMPTY STATE -->
  <div class="empty-state" *ngIf="exams.length === 0">
    <ion-icon name="document-text-outline"></ion-icon>
    <h3>No Exams Found</h3>
    <p>Create exams to manage schedules and marks</p>
  </div>

  <!-- EXAM CARDS -->
  <div class="exam-card"
       *ngFor="let exam of exams">

    <!-- HEADER -->
    <div class="exam-header">
      <div class="left">
        <h2>{{ exam.examName }}</h2>
        <p>Academic Year {{ exam.academicYear }}</p>
      </div>

      <ion-badge [color]="getStatusColor(exam.status)">
        {{ exam.status }}
      </ion-badge>
    </div>

    <!-- BODY -->
    <div class="exam-body">

      <!-- CLASS SELECT -->
      <ion-item>
        <ion-label position="stacked">Select Class</ion-label>
        <ion-select placeholder="Choose class"
                    [(ngModel)]="exam.selectedClass">
          <ion-select-option *ngFor="let c of exam.classes"
                             [value]="c.classId">
            Class {{ c.classId }}
          </ion-select-option>
        </ion-select>
      </ion-item>

      <!-- ACTIONS -->
      <div class="actions">

        <ion-button fill="outline"
                    color="warning"
                    (click)="openSchedule(exam)">
          <ion-icon name="calendar-outline" slot="start"></ion-icon>
          Schedule
        </ion-button>

        <ion-button fill="outline"
                    color="primary"
                    (click)="openMarks(exam)">
          <ion-icon name="clipboard-outline" slot="start"></ion-icon>
          Marks
        </ion-button>

        <ion-button fill="outline"
                    color="success"
                    *ngIf="exam.status === 'Marks Entered'"
                    (click)="declareResult(exam)">
          <ion-icon name="checkmark-done-outline" slot="start"></ion-icon>
          Declare
        </ion-button>

      </div>

    </div>

  </div>

</ion-content>
